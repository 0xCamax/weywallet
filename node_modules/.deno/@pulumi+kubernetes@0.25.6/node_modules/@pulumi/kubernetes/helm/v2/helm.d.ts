import * as pulumi from "@pulumi/pulumi";
import * as yaml from "../../yaml/index";
interface BaseChartOpts {
    /**
     * The optional namespace to install chart resources into.
     */
    namespace?: pulumi.Input<string>;
    /**
     * Overrides for chart values.
     */
    values?: pulumi.Inputs;
    /**
     * Optional array of transformations to apply to resources that will be created by this chart prior to
     * creation. Allows customization of the chart behaviour without directly modifying the chart itself.
     */
    transformations?: ((o: any, opts: pulumi.CustomResourceOptions) => void)[];
    /**
     * An optional prefix for the auto-generated resource names.
     * Example: A resource created with resourcePrefix="foo" would produce a resource named "foo-resourceName".
     */
    resourcePrefix?: string;
}
export interface ChartOpts extends BaseChartOpts {
    /**
     * The repository containing the desired chart.  If not provided, [chart] must be a fully qualified chart URL
     * or repo/chartname.
     */
    repo?: pulumi.Input<string>;
    /**
     * The chart to deploy.  If [repo] is provided, this chart name is looked up in the given repository.  Else
     * this chart name must be a fully qualified chart URL or `repo/chartname`.
     */
    chart: pulumi.Input<string>;
    /**
     * The version of the chart to deploy. If not provided, the latest version will be deployed.
     */
    version?: pulumi.Input<string>;
    /**
     * Additional options to customize the fetching of the Helm chart.
     */
    fetchOpts?: pulumi.Input<FetchOpts>;
}
export interface LocalChartOpts extends BaseChartOpts {
    /**
     * The path to the chart directory which contains the `Chart.yaml` file.
     */
    path: string;
}
/**
 * Chart is a component representing a collection of resources described by an arbitrary Helm
 * Chart. The Chart can be fetched from any source that is accessible to the `helm` command
 * line. Values in the `values.yml` file can be overridden using `ChartOpts.values` (equivalent
 * to `--set` or having multiple `values.yml` files). Objects can be transformed arbitrarily by
 * supplying callbacks to `ChartOpts.transformations`.
 *
 * `Chart` does not use Tiller. The Chart specified is copied and expanded locally; any values
 * that would be retrieved in-cluster would be assigned fake values, and none of Tiller's
 * server-side validity testing is executed.
 *
 * The semantics of `update` on a Chart are identical to those of Helm and kubectl; for example,
 * unlike a "normal" Pulumi program, updating a ConfigMap does not trigger a cascading update
 * among Deployments that reference it.
 *
 * NOTE: `Chart` will attempt to sort the resources in the same way that Helm does, to ensure
 * that (e.g.) namespaces are created before things that are in them. But, because the Pulumi
 * engine delivers the these calls asynchronously, they could arrive "somewhat" out of order.
 * This should not affect many Helm charts.
 */
export declare class Chart extends yaml.CollectionComponentResource {
    /**
     * Create an instance of the specified Helm chart.
     * @param releaseName Name of the Chart (e.g., nginx-ingress).
     * @param config Configuration options for the Chart.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(releaseName: string, config: ChartOpts | LocalChartOpts, opts?: pulumi.ComponentResourceOptions);
    parseTemplate(yamlStream: string, transformations: ((o: any, opts: pulumi.CustomResourceOptions) => void)[] | undefined, resourcePrefix: string | undefined, dependsOn: pulumi.Resource[]): pulumi.Output<{
        [key: string]: pulumi.CustomResource;
    }>;
}
/** @ignore */ export declare function helmSort(a: {
    kind: string;
}, b: {
    kind: string;
}): number;
/**
 * Additional options to customize the fetching of the Helm chart.
 */
export interface FetchOpts {
    /** Specific version of a chart. Without this, the latest version is fetched. */
    version?: pulumi.Input<string>;
    /** Verify certificates of HTTPS-enabled servers using this CA bundle. */
    caFile?: pulumi.Input<string>;
    /** Identify HTTPS client using this SSL certificate file. */
    certFile?: pulumi.Input<string>;
    /** Identify HTTPS client using this SSL key file. */
    keyFile?: pulumi.Input<string>;
    /**
     * Location to write the chart. If this and tardir are specified, tardir is appended to this
     * (default ".").
     */
    destination?: pulumi.Input<string>;
    /** Keyring containing public keys (default "/Users/alex/.gnupg/pubring.gpg"). */
    keyring?: pulumi.Input<string>;
    /** Chart repository password. */
    password?: pulumi.Input<string>;
    /** Chart repository url where to locate the requested chart. */
    repo?: pulumi.Input<string>;
    /**
     * If untar is specified, this flag specifies the name of the directory into which the chart is
     * expanded (default ".").
     */
    untardir?: pulumi.Input<string>;
    /** Chart repository username. */
    username?: pulumi.Input<string>;
    /** Location of your Helm config. Overrides $HELM_HOME (default "/Users/alex/.helm"). */
    home?: pulumi.Input<string>;
    /**
     * Use development versions, too. Equivalent to version '>0.0.0-0'. If --version is set, this is
     * ignored.
     */
    devel?: pulumi.Input<boolean>;
    /** Fetch the provenance file, but don't perform verification. */
    prov?: pulumi.Input<boolean>;
    /** If set to false, will leave the chart as a tarball after downloading. */
    untar?: pulumi.Input<boolean>;
    /** Verify the package against its signature. */
    verify?: pulumi.Input<boolean>;
}
interface ResolvedFetchOpts {
    version?: string;
    caFile?: string;
    certFile?: string;
    keyFile?: string;
    destination?: string;
    keyring?: string;
    password?: string;
    repo?: string;
    untardir?: string;
    username?: string;
    home?: string;
    devel?: boolean;
    prov?: boolean;
    untar?: boolean;
    verify?: boolean;
}
/**
 * Retrieve a package from a package repository, and download it locally.
 *
 * This is useful for fetching packages to inspect, modify, or repackage. It can also be used to
 * perform cryptographic verification of a chart without installing the chart.
 *
 * There are options for unpacking the chart after download. This will create a directory for the
 * chart and uncompress into that directory.
 *
 * If the `verify` option is specified, the requested chart MUST have a provenance file, and MUST
 * pass the verification process. Failure in any part of this will result in an error, and the chart
 * will not be saved locally.
 */
export declare function fetch(chart: string, opts?: ResolvedFetchOpts): void;
export {};
